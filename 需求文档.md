
# 需求概述(Requirement Target)

本项目目标开发一个FB广告落地页生成系统（以下简称代号为LPS_creativ），它的主要功能是结合最新的视频素材给美工同事生成新的FB广告落地页，美工同事根据生成的落地页将创作的新广告上传到系统，投流同事进行广告和落地页的更新

# 业务流程(Business Process)

1.系统每天/每周通过API调用公司视频软件的API获取热门的视频数据和用户数据对系统的视频数据库和用户数据库进行更新
2.美工同事进入落地页管理系统通过查询来挑选自己需要的视频素材
3.将所需要的素材勾选过后开始进行落地页模板的选择，落地页模板可以选择单模板结果或多模板结构，当所勾选视频素材数量小于所选模板中最大
  可装载视频数量时会提示"所选模板需要X个视频素材，请继续勾选"
4.当所选视频素材符合模板要求时可点击预览按钮观看所选落地页模板的生成效果
5.点击确定将预览的落地页生成并上传系统，点击下载将构成新生成落地页的所有素材打包下载到本地供美工进行广告创作
6.美工将创作好的广告图上传到对应的落地页进程进行绑定供投流工作人员使用
7.投流同事进入投放计划系统，勾选要投放的渠道、地区，勾选要投放的落地页-广告进行下载

# 界面设计(Interface Design)
1.影片素材查询管理
  1.(增删改查按钮查询已入库的视频素材(名称、类别、海报图、观看量))
  2."一键导入按钮"从API获取热门视频素材一键入库
2.落地页查询管理
  1.展示历史的落地页进程：每个进程会显示落地页的状态(草稿、待确定、待上传广告、上传中、待投流 )[多状态、可操作、带流转的记录列表："工作流实例"]
  2.用户点击创建落地页进行素材和模板选择，用户可以根据自己的需要选择单个或多个落地页模板
  3.用户可以根据自己选的模板预览模板装载视频素材的效果，确认完成点击确定生成对应落地页完成进程
  4.用户可以在历史列表里通过点击"操作"按钮可以下载对应的视频素材、广告的上传、整体落地页-广告的下载
3.投放计划
  1.用户可以新建进程，在进程里勾选要投放的渠道和地区，将所需的(落地页-广告)填入完成进程，下载对应进程的表将(落地页-广告)根据渠道进行投放和更新落地页
  

系统导航结构（核心）
主界面
├── 1. 影片素材库 (视频CRUD)
├── 2. 落地页工作流 (核心页面)
│   ├── 2.1 工作流列表 (历史记录 + 状态)
│   └── 2.2 创建落地页 (选择视频 → 选择模板 → 生成)
└── 3. 投流计划
    ├── 3.1 新建计划 (勾选**工作流实例**) → 安排渠道 → 下载
    └── 3.2 历史记录 (历史投流计划列表)

📌 数据库蓝图更新（V1.1版）
  系统导航结构（核心定位）
    
  LPS_Creativ系统（FB广告落地页快速生成系统）

  主界面三板块：
  ├─ 1. 影片素材库（增删改查 + 一键导入API）
  ├─ 2. 落地页工作流（核心页面：生成能力）
  │   ├─ 2.1 工作流列表：历史批次管理
  │   └─ 2.2 创建落地页：勾选视频 → 选模板 → 生成 → 上传广告图
  └─ 3. 投流计划（下载中心）
      ├─ 3.1 新建计划：勾选ready批次 → 配置渠道 → 打包下载
      └─ 3.2 历史记录

  系统边界：只负责生成与打包，不管理投流时的素材匹配逻辑
  实体关系图（不变）
  Mermaid
  预览
  erDiagram
      VIDEO ||--o{ LANDING_PAGE : "被选中"
      TEMPLATE ||--o{ LANDING_PAGE : "生成"
      WORKFLOW ||--o{ LANDING_PAGE : "包含"
      WORKFLOW ||--o{ AD_CREATIVE : "包含"
      CAMPAIGN }o--o{ WORKFLOW : "勾选"
  表结构设计（不变）
  表格
   
  表名	核心字段	关键约束/索引	设计意图
  video	external_id, poster_url, category	UNIQUE(external_id)	去重 + 快速筛选
  template	html_file_path, max_videos	-	模板容量校验
  workflow	status, created_by	idx_status	批次状态管理
  landing_page	workflow_id, selected_video_ids[], generated_page_url	UNIQUE(workflow_id, template_id)	批次内模板去重
  ad_creative	workflow_id, file_url, author	idx_workflow_id	批次素材管理
  campaign	channels[], regions[]	-	投流配置记录
  campaign_workflow_map	campaign_id, workflow_id	PRIMARY KEY	批次在计划中唯一
  设计决策锁定（核心不变）
  核心价值：快速生成落地页（视频素材 + 模板 → HTML）
  数据流：批次化组织（所有数据归属workflow），下载时按批次打包
  状态管理：workflow.status是唯一状态源
  模板选择：支持多模板，每个模板生成独立的landing_page
  广告图管理：ad_creative 仅关联 workflow，不关联 landing_page 或 video
  下载结构：批次ID/目录下包含该批次所有落地页HTML + 所有广告图
  📎 更新后的使用指南
  下次开新会话时，粘贴以下内容：
   
  请基于以下系统核心蓝图讨论[具体模块]：

  --- 粘贴V1.1版文档 ---

  我的问题是：[具体需求]
  重要提醒：本蓝图已锁定实体关系和批次化数据流，后续讨论不可推翻这两条，其他细节可优化。